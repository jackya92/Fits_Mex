<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <title>Fit Mex - Seleccionar Músculos</title>
    <link crossorigin href="https://fonts.gstatic.com" rel="preconnect" />
    <link
      href="https://fonts.googleapis.com/css2?family=Lexend:wght@400;500;700;900&amp;display=swap"
      rel="stylesheet" />
    <script
      src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script>tailwind.config = {darkMode: "class", theme: {extend: {colors: {primary: "#359EFF", "background-light": "#f5f7f8", "background-dark": "#0f1923"}, fontFamily: {display: "Lexend"}, borderRadius: {DEFAULT: "0.25rem", lg: "0.5rem", xl: "0.75rem", full: "9999px"}}}};</script>
    <style>
    body {
      font-family: 'Lexend', sans-serif;
    }
    
    .muscle-area {
      position: absolute;
      border-radius: 50%;
      background-color: rgba(53, 158, 255, 0.3);
      border: 2px solid transparent;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .muscle-area:hover, .muscle-area.selected {
      background-color: rgba(53, 158, 255, 0.6);
      border-color: #359EFF;
    }
    
    .muscle-area.selected {
      box-shadow: 0 0 10px rgba(53, 158, 255, 0.8);
    }
    
    .fade-in {
      animation: fadeIn 0.5s ease-in-out;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .success-message {
      background-color: #10B981;
      color: white;
      padding: 12px 16px;
      border-radius: 8px;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
  </style>
  </head>
  <body class="bg-background-light dark:bg-background-dark font-display">
    <div class="flex flex-col min-h-screen">
      <header
        class="flex items-center justify-between px-10 py-3 border-b border-primary/20 dark:border-primary/30">
        <div
          class="flex items-center gap-4 text-background-dark dark:text-background-light">
          <div class="w-6 h-6 text-primary">
            <svg fill="none" viewbox="0 0 48 48"
              xmlns="http://www.w3.org/2000/svg">
              <path
                d="M42.4379 44C42.4379 44 36.0744 33.9038 41.1692 24C46.8624 12.9336 42.2078 4 42.2078 4L7.01134 4C7.01134 4 11.6577 12.932 5.96912 23.9969C0.876273 33.9029 7.27094 44 7.27094 44L42.4379 44Z"
                fill="currentColor"></path>
            </svg>
          </div>
          <h2 class="text-lg font-bold">Fit Mex</h2>
        </div>
        <nav
          class="hidden md:flex items-center gap-8 text-sm font-medium text-background-dark/80 dark:text-background-light/80">
          <a class="hover:text-primary transition-colors" href="#">Inicio</a>
          <a class="text-primary font-semibold" href="#">Ejercicios</a>
          <a class="hover:text-primary transition-colors" href="#">Rutinas</a>
          <a class="hover:text-primary transition-colors" href="#">Comunidad</a>
        </nav>
        <div class="flex items-center gap-4">
          <button
            class="p-2 rounded-full hover:bg-primary/10 dark:hover:bg-primary/20 text-background-dark dark:text-background-light">
            <svg fill="currentColor" height="24" viewbox="0 0 256 256"
              width="24" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M221.8,175.94C216.25,166.38,208,139.33,208,104a80,80,0,1,0-160,0c0,35.34-8.26,62.38-13.81,71.94A16,16,0,0,0,48,200H88.81a40,40,0,0,0,78.38,0H208a16,16,0,0,0,13.8-24.06ZM128,216a24,24,0,0,1-22.62-16h45.24A24,24,0,0,1,128,216ZM48,184c7.7-13.24,16-43.92,16-80a64,64,0,1,1,128,0c0,36.05,8.28,66.73,16,80Z"></path>
            </svg>
          </button>
          <div class="w-10 h-10 bg-center bg-no-repeat bg-cover rounded-full"
            style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuDM2tkPGayzQso5dWHiptJcX1IveYWaPzWx8bZAGUyt4mWiS3LrgCh7s4lC0wUfYjKDO8LE7bhWq-UKgKBb1bAdBjcVKzfLOXuwa7XzvLdm7YhyYrOVFqG7CRAHXHQ_hEBNU6UYJMQk4Gtp_ovJ561BGPDwbSjIWe5xAQJwdiZQGUi2v-z84VexyFATxd2NfUFePPKHp6heo0n6rSxKahODhWo3XqJdgBlUUkHasWQqhKwpTS6sRlj4WxVRnzFk1CvSh_K3WC1fEXI");'></div>
        </div>
      </header>
      <main
        class="flex-grow w-full max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
        <div class="space-y-8">
          <div>
            <h1
              class="text-3xl font-bold text-background-dark dark:text-background-light">Selecciona
              los Músculos a Entrenar</h1>
            <p
              class="mt-2 text-background-dark/70 dark:text-background-light/70">Elige
              los grupos musculares que deseas incluir en tu rutina.</p>
          </div>
          
          <!-- Mensaje de éxito (oculto inicialmente) -->
          <div id="successMessage" class="success-message fade-in hidden">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
            </svg>
            <span>¡Tu selección se ha guardado correctamente!</span>
          </div>
          
          <!-- Contador de músculos seleccionados -->
          <div id="selectionCounter" class="bg-primary/10 dark:bg-primary/20 p-4 rounded-lg fade-in hidden">
            <p class="text-background-dark dark:text-background-light font-medium">
              Has seleccionado <span id="selectedCount" class="text-primary font-bold">0</span> músculos
            </p>
          </div>
          
          <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <div class="space-y-4">
              <h2
                class="text-xl font-bold text-background-dark dark:text-background-light">Selección
                Visual</h2>
              <div
                class="relative w-full aspect-[4/3] rounded-lg bg-center bg-no-repeat bg-contain border border-gray-200 dark:border-gray-700"
                style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuCin3HsWAZoX0-gW9aEk6UR4zAtaqpC5yGg86K8m-5iNxfWsCjIWQ4o9CJDHDWR65bfjsX1uX-gnFS-EIvQ6KRaP8yPoqfpVMfZoli7VMHfR_gj1JZAuGBxMO0uKu6_7CXVEEr7wL2syb8r7iodIBFbOBSOVtckGWdYmwiPDZiLAISSYZ9yP0XGWassqoIhc0K_zM8GCuz5ekDhCebRWpe8e6La5-9a8vaV2_ROUadIWD3msDlJk2XOLh4Hht3TEYK4_IsQ3DU85xc");'
                id="muscleDiagram">
                <!-- Áreas interactivas para seleccionar músculos -->
                <div class="muscle-area" id="pectorales" style="top: 25%; left: 25%; width: 20%; height: 15%;"></div>
                <div class="muscle-area" id="dorsales" style="top: 25%; left: 55%; width: 20%; height: 15%;"></div>
                <div class="muscle-area" id="hombros" style="top: 20%; left: 40%; width: 15%; height: 10%;"></div>
                <div class="muscle-area" id="biceps" style="top: 35%; left: 20%; width: 10%; height: 15%;"></div>
                <div class="muscle-area" id="triceps" style="top: 35%; left: 70%; width: 10%; height: 15%;"></div>
                <div class="muscle-area" id="cuadriceps" style="top: 60%; left: 30%; width: 15%; height: 20%;"></div>
                <div class="muscle-area" id="isquiotibiales" style="top: 60%; left: 55%; width: 15%; height: 20%;"></div>
                <div class="muscle-area" id="gluteos" style="top: 45%; left: 45%; width: 15%; height: 15%;"></div>
                <div class="muscle-area" id="abdominales" style="top: 35%; left: 40%; width: 15%; height: 10%;"></div>
                <div class="muscle-area" id="gemelos" style="top: 80%; left: 40%; width: 15%; height: 10%;"></div>
              </div>
            </div>
            <div class="space-y-4">
              <h2
                class="text-xl font-bold text-background-dark dark:text-background-light">Selección
                por Lista</h2>
              <div class="space-y-2">
                <label
                  class="flex items-center p-3 rounded-lg hover:bg-primary/10 dark:hover:bg-primary/20 transition-colors cursor-pointer">
                  <input
                    class="h-5 w-5 rounded border-primary/50 text-primary bg-transparent focus:ring-primary focus:ring-offset-background-light dark:focus:ring-offset-background-dark muscle-checkbox"
                    type="checkbox" value="pectorales" />
                  <span
                    class="ml-3 text-base text-background-dark dark:text-background-light">Pectorales</span>
                </label>
                <label
                  class="flex items-center p-3 rounded-lg hover:bg-primary/10 dark:hover:bg-primary/20 transition-colors cursor-pointer">
                  <input
                    class="h-5 w-5 rounded border-primary/50 text-primary bg-transparent focus:ring-primary focus:ring-offset-background-light dark:focus:ring-offset-background-dark muscle-checkbox"
                    type="checkbox" value="dorsales" />
                  <span
                    class="ml-3 text-base text-background-dark dark:text-background-light">Dorsales</span>
                </label>
                <label
                  class="flex items-center p-3 rounded-lg hover:bg-primary/10 dark:hover:bg-primary/20 transition-colors cursor-pointer">
                  <input
                    class="h-5 w-5 rounded border-primary/50 text-primary bg-transparent focus:ring-primary focus:ring-offset-background-light dark:focus:ring-offset-background-dark muscle-checkbox"
                    type="checkbox" value="hombros" />
                  <span
                    class="ml-3 text-base text-background-dark dark:text-background-light">Hombros</span>
                </label>
                <label
                  class="flex items-center p-3 rounded-lg hover:bg-primary/10 dark:hover:bg-primary/20 transition-colors cursor-pointer">
                  <input
                    class="h-5 w-5 rounded border-primary/50 text-primary bg-transparent focus:ring-primary focus:ring-offset-background-light dark:focus:ring-offset-background-dark muscle-checkbox"
                    type="checkbox" value="biceps" />
                  <span
                    class="ml-3 text-base text-background-dark dark:text-background-light">Bíceps</span>
                </label>
                <label
                  class="flex items-center p-3 rounded-lg hover:bg-primary/10 dark:hover:bg-primary/20 transition-colors cursor-pointer">
                  <input
                    class="h-5 w-5 rounded border-primary/50 text-primary bg-transparent focus:ring-primary focus:ring-offset-background-light dark:focus:ring-offset-background-dark muscle-checkbox"
                    type="checkbox" value="triceps" />
                  <span
                    class="ml-3 text-base text-background-dark dark:text-background-light">Tríceps</span>
                </label>
                <label
                  class="flex items-center p-3 rounded-lg hover:bg-primary/10 dark:hover:bg-primary/20 transition-colors cursor-pointer">
                  <input
                    class="h-5 w-5 rounded border-primary/50 text-primary bg-transparent focus:ring-primary focus:ring-offset-background-light dark:focus:ring-offset-background-dark muscle-checkbox"
                    type="checkbox" value="cuadriceps" />
                  <span
                    class="ml-3 text-base text-background-dark dark:text-background-light">Cuádriceps</span>
                </label>
                <label
                  class="flex items-center p-3 rounded-lg hover:bg-primary/10 dark:hover:bg-primary/20 transition-colors cursor-pointer">
                  <input
                    class="h-5 w-5 rounded border-primary/50 text-primary bg-transparent focus:ring-primary focus:ring-offset-background-light dark:focus:ring-offset-background-dark muscle-checkbox"
                    type="checkbox" value="isquiotibiales" />
                  <span
                    class="ml-3 text-base text-background-dark dark:text-background-light">Isquiotibiales</span>
                </label>
                <label
                  class="flex items-center p-3 rounded-lg hover:bg-primary/10 dark:hover:bg-primary/20 transition-colors cursor-pointer">
                  <input
                    class="h-5 w-5 rounded border-primary/50 text-primary bg-transparent focus:ring-primary focus:ring-offset-background-light dark:focus:ring-offset-background-dark muscle-checkbox"
                    type="checkbox" value="gluteos" />
                  <span
                    class="ml-3 text-base text-background-dark dark:text-background-light">Glúteos</span>
                </label>
                <label
                  class="flex items-center p-3 rounded-lg hover:bg-primary/10 dark:hover:bg-primary/20 transition-colors cursor-pointer">
                  <input
                    class="h-5 w-5 rounded border-primary/50 text-primary bg-transparent focus:ring-primary focus:ring-offset-background-light dark:focus:ring-offset-background-dark muscle-checkbox"
                    type="checkbox" value="abdominales" />
                  <span
                    class="ml-3 text-base text-background-dark dark:text-background-light">Abdominales</span>
                </label>
                <label
                  class="flex items-center p-3 rounded-lg hover:bg-primary/10 dark:hover:bg-primary/20 transition-colors cursor-pointer">
                  <input
                    class="h-5 w-5 rounded border-primary/50 text-primary bg-transparent focus:ring-primary focus:ring-offset-background-light dark:focus:ring-offset-background-dark muscle-checkbox"
                    type="checkbox" value="gemelos" />
                  <span
                    class="ml-3 text-base text-background-dark dark:text-background-light">Gemelos</span>
                </label>
              </div>
            </div>
          </div>
          <div class="flex justify-end pt-8">
            <button id="saveButton"
              class="px-6 py-2 rounded-lg bg-primary text-background-dark font-bold text-base hover:bg-primary/90 transition-all">
              Guardar Selección
            </button>
          </div>
          
          <!-- Sección para mostrar la selección guardada -->
          <div id="savedSelection" class="mt-8 p-6 bg-white dark:bg-gray-800 rounded-lg shadow-md fade-in hidden">
            <h3 class="text-xl font-bold mb-4 text-background-dark dark:text-background-light">Tu Selección Guardada</h3>
            <div id="selectedMusclesList" class="flex flex-wrap gap-2">
              <!-- Aquí se mostrarán los músculos seleccionados -->
            </div>
          </div>
        </div>
      </main>
    </div>

    <script>
      document.addEventListener('DOMContentLoaded', function() {
        // Elementos del DOM
        const saveButton = document.getElementById('saveButton');
        const successMessage = document.getElementById('successMessage');
        const selectionCounter = document.getElementById('selectionCounter');
        const selectedCount = document.getElementById('selectedCount');
        const savedSelection = document.getElementById('savedSelection');
        const selectedMusclesList = document.getElementById('selectedMusclesList');
        
        // Checkboxes y áreas de músculos
        const checkboxes = document.querySelectorAll('.muscle-checkbox');
        const muscleAreas = document.querySelectorAll('.muscle-area');
        
        // Cargar selección guardada al iniciar
        loadSavedSelection();
        
        // Evento para guardar la selección
        saveButton.addEventListener('click', function() {
          const selectedMuscles = getSelectedMuscles();
          
          // Guardar en localStorage
          localStorage.setItem('fitMexMuscles', JSON.stringify(selectedMuscles));
          
          // Mostrar mensaje de éxito
          showSuccessMessage();
          
          // Actualizar la sección de selección guardada
          updateSavedSelection(selectedMuscles);
        });
        
        // Eventos para checkboxes
        checkboxes.forEach(checkbox => {
          checkbox.addEventListener('change', function() {
            const muscleId = this.value;
            const muscleArea = document.getElementById(muscleId);
            
            // Actualizar área visual
            if (this.checked) {
              muscleArea.classList.add('selected');
            } else {
              muscleArea.classList.remove('selected');
            }
            
            // Actualizar contador
            updateSelectionCounter();
          });
        });
        
        // Eventos para áreas visuales
        muscleAreas.forEach(area => {
          area.addEventListener('click', function() {
            const muscleId = this.id;
            const checkbox = document.querySelector(`.muscle-checkbox[value="${muscleId}"]`);
            
            // Toggle del checkbox
            checkbox.checked = !checkbox.checked;
            
            // Actualizar área visual
            if (checkbox.checked) {
              this.classList.add('selected');
            } else {
              this.classList.remove('selected');
            }
            
            // Actualizar contador
            updateSelectionCounter();
          });
        });
        
        // Función para obtener músculos seleccionados
        function getSelectedMuscles() {
          const selected = [];
          checkboxes.forEach(checkbox => {
            if (checkbox.checked) {
              selected.push({
                id: checkbox.value,
                name: checkbox.parentElement.querySelector('span').textContent
              });
            }
          });
          return selected;
        }
        
        // Función para cargar selección guardada
        function loadSavedSelection() {
          const saved = localStorage.getItem('fitMexMuscles');
          if (saved) {
            const muscles = JSON.parse(saved);
            
            // Seleccionar los checkboxes correspondientes
            muscles.forEach(muscle => {
              const checkbox = document.querySelector(`.muscle-checkbox[value="${muscle.id}"]`);
              if (checkbox) {
                checkbox.checked = true;
                
                // Actualizar área visual
                const muscleArea = document.getElementById(muscle.id);
                if (muscleArea) {
                  muscleArea.classList.add('selected');
                }
              }
            });
            
            // Actualizar contador y mostrar selección guardada
            updateSelectionCounter();
            updateSavedSelection(muscles);
          }
        }
        
        // Función para actualizar el contador de selección
        function updateSelectionCounter() {
          const selectedCountValue = document.querySelectorAll('.muscle-checkbox:checked').length;
          selectedCount.textContent = selectedCountValue;
          
          if (selectedCountValue > 0) {
            selectionCounter.classList.remove('hidden');
          } else {
            selectionCounter.classList.add('hidden');
          }
        }
        
        // Función para mostrar el mensaje de éxito
        function showSuccessMessage() {
          successMessage.classList.remove('hidden');
          successMessage.classList.add('fade-in');
          
          // Ocultar el mensaje después de 3 segundos
          setTimeout(function() {
            successMessage.classList.add('hidden');
          }, 3000);
        }
        
        // Función para actualizar la sección de selección guardada
        function updateSavedSelection(muscles) {
          // Limpiar lista anterior
          selectedMusclesList.innerHTML = '';
          
          if (muscles.length > 0) {
            // Crear etiquetas para cada músculo seleccionado
            muscles.forEach(muscle => {
              const tag = document.createElement('div');
              tag.className = 'bg-primary/20 text-primary px-3 py-1 rounded-full text-sm font-medium';
              tag.textContent = muscle.name;
              selectedMusclesList.appendChild(tag);
            });
            
            // Mostrar la sección
            savedSelection.classList.remove('hidden');
          } else {
            savedSelection.classList.add('hidden');
          }
        }
      });
    </script>
  </body>
</html>